:_mod-docs-content-type: ASSEMBLY
[id="microshift-4-15-release-notes"]
= {product-title} {product-version} release notes
include::_attributes/attributes-microshift.adoc[]
:context: release-notes

toc::[]

{product-title-first} provides developers and IT organizations with small-form-factor and edge computing delivered as an application that customers can deploy on top of their managed {op-system-base-full} devices at the edge. Built on {OCP} and Kubernetes, {microshift-short} provides an efficient way to operate single-node clusters in low-resource edge environments.

{microshift-short} is designed to make control plane restarts economical and be lifecycle-managed as a single unit by the operating system. Updates, roll-backs, and configuration changes consist of simply staging another version in parallel and then - without relying on a network - flipping to and from that version and restarting.

[id="microshift-4-15-about-this-release"]
== About this release
// TODO: Update with the relevant information closer to release.
Version 4.15 of {product-title} includes new features and enhancements. {microshift-short} was introduced as Generally Available with {microshift-short} 4.14. Update to the latest version of {microshift-short} to receive all of the latest features, bug fixes, and security updates. This release uses link:https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.28.md[Kubernetes 1.28] with the CRI-O container runtime. New features, changes, and known issues that pertain to {microshift-short} are included in this topic.

You can deploy {microshift-short} clusters to either on-premise, cloud, or disconnected environments.

// Double check OP system versions
{microshift-short} {product-version} is supported on {op-system-ostree-first} and {op-system-base-full} 9.2 and 9.3.

//TODO: update link after GA; KCS article will not be live until then
//For lifecycle information, see the link:https://access.redhat.com/support/policy/updates/openshift[{product-title} Life Cycle Policy].

[id="microshift-4-15-new-features-and-enhancements"]
== New features and enhancements

This release adds improvements related to the following components and concepts.

//L3 major categories with features in each as L4s, for example:
[id="microshift-4-15-rhel"]
=== {op-system-base-full}
* {microshift-short} now runs on {op-system-base-full} versions 9.2 and 9.3. Compatibility with {op-system} 9.3 is an enhancement for {microshift-short} version 4.15.

// Some details of the next note are adapted from https://kubernetes.io/blog/2022/08/31/cgroupv2-ga-1-25/
* {microshift-short} uses crun and Control Group v2 (cgroup v2). If workloads rely on the cgroup file system layout, they might need to be updated to be compatible with cgroup v2.

** If you run third-party monitoring and security agents that depend on the cgroup file system, update the agents to versions that support cgroup v2.
** If you run cAdvisor as a standalone DaemonSet for monitoring pods and containers, update it to v0.43.0 or later.
** If you deploy Java applications with JDK, ensure you are using JDK 11.0.16 and later or JDK 15 and later, which fully support cgroup v2.

[id="microshift-4-15-security"]
=== Security and compliance

[id="microshift-4-15-rhel-fips"]
==== FIPS compliance
* When {op-system-base-full} is installed and started with FIPS enabled, {microshift-short} containers are automatically enabled to run in FIPS-compliant mode. See xref:../microshift_install/microshift-fips.adoc#microshift-fips[Running {microshift-short} containers in FIPS mode] for details.

[id="microshift-4-15-updating"]
=== Updating
Updates for both minor releases and patch releases are supported.

[id="microshift-4-15-updates-supported"]
==== The following updates are supported
The following list provides update details:

* {microshift-short} offers in-place updates on {op-system-ostree} systems with automatic system rollback capabilities and automatic back up and restore functions.
* Updates of the RPMs on a non-OSTree system such as {op-system} are also supported.
* Updates from the 4.14 version are supported.

//[id="microshift-4-15-new-feat-based-on-{op-system-ostree}"]
//==== Placeholder for new feat bases on RHEL Edge

[id="microshift-4-15-installation"]
=== Installation

[id="microshift-4-15-blueprint-included"]
==== Sample blueprints now included
The `microshift-release-info` RPM now contains sample blueprints that can be used for image building. The blueprints include both {microshift-short} RPM packages and container image references.
//TODO link to install section once merged

[id="microshift-4-15-support"]
=== Support

[id="microshift-4-15-etcd"]
==== Getting the etcd version
Previously, you could not query for the etcd version included with {microshift-short}. Now, the `microshift-etcd version` command outputs the {microshift-short} version and the base version of the etcd database. See xref:../microshift_support/microshift-etcd.adoc#microshift-etcd[The etcd service] for more information.

//[id="microshift-4-15-post-installation"]
//=== Post-installation configuration
//With this release, configuration options have changed.

//[id="microshift-4-15-changes-config-yaml"]
//==== Configuration options changes

//[id="microshift-4-15-administrator-perspective"]
//==== Administrator Perspective
//admin perspectives go here

//[id="microshift-4-15-security"]
//=== Security and compliance
//
// This content will be added post-GA, as it is asynchronous content.

//[id="microshift-4-15-networking"]
//=== Networking

//[id="microshift-4-15-load-balancer"]
//==== Deploying network load balancers on {product-title}

//[id="microshift-4-15-storage"]
//=== Storage

//[id="microshift-backup-and-restore"]
//=== Backup and restore

[id="microshift-4-15-running-apps"]
=== Running Applications

[id="microshift-4-15-olm"]
==== Operator Lifecyle Manager
With this release, you can use Operator Lifecyle Manager (OLM) to create, apply, and administer add-on Operators. OLM can be used with both connected and disconnected {microshift-short} clusters.
//TODO add xrefs once content is merged

//[id="microshift-4-15-notable-technical-changes"]
//== Notable technical changes

//{microshift-short} {product-version} introduces the following notable technical changes.
// Note: use [discrete] for these sub-headings.

[discrete]
//[id="microshift-4-15-networking-changes"]
//=== Networking changes

//Networking updates to {microshift-short} {product-version} include ...

[id="microshift-4-15-deprecated-and-removed"]
== Deprecated and removed features

Some features available in previous releases of {microshift-short} have been deprecated or removed.

Deprecated functionality is still included in {microshift-short} and continues to be supported; however, it will be removed in a future release of this product and is not recommended for new deployments. For the most recent list of major functionality deprecated and removed within {microshift-short} {product-version}, refer to the tables below. Additional details for more functionality that has been deprecated and removed are listed after the table.

In the following tables, features are marked with the following statuses:

* _Available_

* _Deprecated_

* _Removed_

.{product-title} deprecated and removed features tracker
[cols="5,1,1,1",options="header"]
|====
|Feature |4.13 |4.14 |4.15

|Network configuration flags
|Deprecated
|Removed
|-

|CIDR notation
|-
|Removed
|-

|====

[id="microshift-4-15-bug-fixes"]
== Bug fixes

//[discrete]
[id="microshift-4-15-installation-bug-fixes"]
=== Installation
* Previously, the `microshift-release-info` RPM depended on the `microshift` RPM. With this release, you can download and install the `microshift-release-info` RPM independently for use in image building. (link:https://issues.redhat.com/browse/OCPBUGS-22854[*OCPBUGS-22854*])

//[discrete]
//[id="microshift-4-15-storage-bug-fixes"]
//==== Storage


//[discrete]
//[id="microshift-4-15-running-applications-bug-fixes"]
//==== Running applications


//[discrete]
//[id="microshift-4-15-support-bug-fixes"]
//==== Support


//[discrete]
//[id="microshift-4-15-configuring-bug-fixes"]
//==== Configuring


//[discrete]
//[id="microshift-4-15-networking-bug-fixes"]
//==== Networking


//[id="microshift-4-15-known-issues"]
//== Known issues


[id="microshift-4-15-asynchronous-errata-updates"]
== Asynchronous errata updates

Security, bug fix, and enhancement updates for {microshift-short} {product-version} are released as asynchronous errata through the Red Hat Network. All {microshift-short} {product-version} errata are https://access.redhat.com/downloads/content/290/[available on the Red Hat Customer Portal]. Read the https://access.redhat.com/support/policy/updates/openshift[{microshift-short} Life Cycle] for more information about asynchronous errata.

Red Hat Customer Portal users can enable errata notifications in the account settings for Red Hat Subscription Management (RHSM). When errata notifications are enabled, you are notified through email whenever new errata relevant to your registered systems are released.

[NOTE]
====
Red Hat Customer Portal user accounts must have systems registered and consuming {microshift-short} entitlements for {microshift-short} errata notification emails to generate.
====

This section is updated over time to provide notes on enhancements and bug fixes for future asynchronous errata releases of {microshift-short} {product-version}. Versioned asynchronous releases, for example with the form {microshift-short} {product-version}.z, will be detailed in the following subsections.

//FIXME-TODO
//[id="microshift-4-15-0-dp"]
//=== RHSA-2024:XXXX - {microshift-short} 4.15.0 bug fix and security update advisory

//Issued: 2024-02-28

//{product-title} release 4.15.0 is now available. The list of bug fixes that are included in the update is documented in the link:https://access.redhat.com/errata/RHSA-2024:XXXX[RHSA-2024:XXXX] advisory. The images that are included in the update are provided by the link:https://access.redhat.com/errata/RHSA-2024:XXXX[RHSA-2024:XXXX] advisory.

//For the `TopoLVM image`, see link:https://catalog.redhat.com/software/containers/lvms4/topolvm-rhel9/63972de3adcb55263891b983?container-tabs=dockerfile[lvms4/topolvm-rhel9].
//check the lvms version