// Module included in the following assemblies:
//
// * knative-serving/serving-transport-encryption.adoc
:_content-type: PROCEDURE
[id="serving-transport-encryption-ensuring-seamless-ca-rotation_{context}"]
= Ensuring seamless CA rotation

Ensuring seamless CA rotation is essential to avoid service downtime, or to deal with an emergency.

.Procedure

. Create a new CA certificate.

. Add the public key of the new CA certificate to the CA trust bundles as described in the "Trust configuration for {ServerlessOperatorName} Serving components and Knative Services" section. Retain the public key of the existing CA.

. Ensure that all clients have consumed the latest set of CA trust bundles. {ServerlessProductName} Serving components will automatically reload the changed CA trust bundles.

. If you have custom workload consuming trust bundles, reload or restart them accordingly.

. Update the `knative-serving-ca-issuer` cluster issuer to reference the secret containing the new CA certificate.

. Either wait for `cert-manager` to renew all your certificates or enforce it to renew all the certificates. For more information, see the `cert-manager` documentation.

. Once the CA rotation is fully completed, you can remove the public key of the old CA from the trust bundle configmap. Allow enough time for all components to apply the changes.

[role="_additional-resources"]
.Additional resources

* link:https://cert-manager.io/docs/usage/certificate/#reissuance-triggered-by-user-actions[cert-manager documentation on reissuance triggered by user actions]
