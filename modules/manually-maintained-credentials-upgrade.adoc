// Module included in the following assemblies:
//
// * updating/updating-cluster-within-minor.adoc
// * updating/updating-cluster-cli.adoc

:_content-type: PROCEDURE

[id="manually-maintained-credentials-upgrade_{context}"]
= Updating cloud provider resources with manually maintained credentials

Before upgrading a cluster with manually maintained credentials, you must create any new credentials for the release image that you are upgrading to. You must also review the required permissions for existing credentials and accommodate any new permissions requirements in the new release for those components.

.Procedure

. Extract and examine the `CredentialsRequest` custom resource for the new release.
+
The "Manually creating IAM" section of the installation content for your cloud provider explains how to obtain and use the credentials required for your cloud.

. Update the manually maintained credentials on your cluster:
+
--
* Create new secrets for any `CredentialsRequest` custom resources that are added by the new release image.
* If the `CredentialsRequest` custom resources for any existing credentials that are stored in secrets have changed permissions requirements, update the permissions as required.
--

.Next steps
* Update the `upgradeable-to` annotation to indicate that the cluster is ready to upgrade.
