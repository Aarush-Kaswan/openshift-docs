// Module included in the following assembly:
//
// * release_notes/gitops-release-notes.adoc

:_mod-docs-content-type: REFERENCE

[id="gitops-release-notes-1-12-2_{context}"]
= Release notes for {gitops-title} 1.12.2

{gitops-title} 1.12.2 is now available on {OCP} 4.12, 4.13, 4.14, and 4.15.

[id="errata-updates-1-12.2_{context}"]
== Errata updates

[id="RHSA-2024:2816-gitops-1-12-2-security-update-advisory_{context}"]
=== RHSA-2024:2816 - {gitops-title} 1.12.2 security update advisory

Issued: 2024-05-10

The list of security fixes that are included in this release is documented in the following advisory:

* link:https://access.redhat.com/errata/RHSA-2024:2816[RHSA-2024:2816]

If you have installed the {gitops-title} Operator in the default namespace, run the following command to view the container images in this release:

[source,terminal]
----
$ oc describe deployment gitops-operator-controller-manager -n openshift-gitops-operator
----

[id="new-features-1-12-2_{context}"]
== New features

* With this update, support has been provided for the `must-gather` tool in the {argo-rollouts-title} Operator. This update provides support for the following enhancements:

** Logs for {argo-rollouts-title} Operator pods and {argo-rollouts-title} pods.
** Contents of {argo-rollouts-title} Manager and {argo-rollouts-title} custom resources (CRs).
** Contents of `Deployment`, `Statefulset`, and `ConfigMaps` CRs created by the `must-gather` tool in the {argo-rollouts-title} Operator.
link:https://issues.redhat.com/browse/GITOPS-3947[GITOPS-3947]

[id="fixed-issues-1-12-2_{context}"]
== Fixed issues

* Before this update, users could not use the `argocd-k8s-auth` binary to add Google Kubernetes Engine (GKE) and Amazon Elastic Kubernetes Service (EKS) clusters because this binary was not available in the {gitops-shortname} container. This update fixes the issue by adding the `argocd-k8s-auth` binary in the {gitops-shortname} container. link:https://issues.redhat.com/browse/GITOPS-4226[GITOPS-4226]

* Before this update, attempts to connect to Azure DevOps with Argo CD would result in an error due to the deprecation of the `rsa-ssh` host key algorithm by the Azure DevOps Repository service. This update fixes the issue by providing support for the `rsa-ssh` host key algorithms during the communication process between Argo CD and Azure DevOps Repository service. link:https://issues.redhat.com/browse/GITOPS-4543[GITOPS-4543]

* Before this update, {gitops-shortname} console plugin workloads did not schedule on infrastructure nodes when the `runOnInfra` field was enabled in the `GitOpsService` custom resource (CR). This update fixes the issue by adding the infrastructure `node-selector` on the {gitops-shortname} console plugin workloads. This enables users to configure custom node-selectors and tolerations on the `gitops-console` pod. As a result, when the `runOnInfra` field is enabled, the {gitops-shortname} console plugin pod is placed on the infrastructure nodes like the other default workloads. link:https://issues.redhat.com/browse/GITOPS-4496[GITOPS-4496]

* Before this update, the `ignoreDifferences` sync option in Argo CD did not work for array fields. This update fixes the issue by modifying the merge strategy of the `ignoreDifferences` sync option used in the upstream project to handle array fields. As a result, the sync option now functions correctly by allowing users to ignore specific elements in the array during sync. link:https://issues.redhat.com/browse/GITOPS-2962[GITOPS-2962]

* Before this update, users were unable to include context for notifications in the `NotificationsConfiguration` custom resource (CR). With this update, users can now add context for notifications by using the `context` field in the `NotificationsConfiguration` CR. This field can also be used to establish shared context across all templates defined in the `NotificationsConfiguration` CR. link:https://issues.redhat.com/browse/GITOPS-4303[GITOPS-4303]
+
.Example of the `context` field in the `NotificationsConfiguration` CR
+
[source,yaml]
----
spec:
  context:
    region: east #<1>
----
<1> Context among all notification templates is in `key-value` pairs
* Before this update, users accessing a Red Hat OpenShift on AWS (ROSA) cluster after hibernation were unable to log in to the Argo CD web console due to an error indicating an invalid redirect URI in the Dex configuration. With this update, users can now log in to the Argo CD web console without facing any errors when the ROSA cluster is operational post-hibernation. link:https://issues.redhat.com/browse/GITOPS-4358[GITOPS-4358]

* Before this update, users were unable to log in to the Argo CD web console if the availability of the `openshift-gitops` route was delayed while the {gitops-title} Operator processed an Argo CD custom resource instance. An error message was displayed indicating an invalid redirect URI in the Dex configuration. With this update, users can now log in to the Argo CD web console without facing any errors. link:https://issues.redhat.com/browse/GITOPS-3736[GITOPS-3736]

* Before this update, users could not create custom resources for Argo CD from the *Add* page on the *Developer* perspective of the {gitops-title} web console. This issue has been observed from {gitops-title} 1.10 and later releases. This update fixes the issue because Operator-backed resources with the correct versions are included in the `ClusterServiceVersion` manifest file.
link:https://issues.redhat.com/browse/GITOPS-4513[GITOPS-4513]