// Module included in the following assemblies:
//
// * cli/checking-policy-compliance.adoc
:_mod-docs-content-type: PROCEDURE
[id="checking-deployment-yaml-files_{context}"]
= Checking deployment YAML files

.Procedure

* Run the following command to check the build-time and deploy-time violations of your security policies in YAML deployment files:
+
[source,terminal]
----
$ roxctl deployment check --file=<yaml_filename> \// <1>
--namespace=<cluster_namespace> \// <2>
--cluster=<cluster_name_or_id> \// <3>
--verbose <4>
----
+
--
<1> For the `<yaml_filename>`, specify the YAML file with one or more deployments to send to Central for policy evaluation.
You can also specify multiple YAML files to send to Central for policy evaluation by using the `--file` flag, for example `--file=<yaml_filename1>`, `--file=<yaml_filename2>`, and so on.
<2> For the `<cluster_namespace>`, specify a namespace to enhance deployments with context information such as network policies, role-based access controls (RBACs) and services for deployments that do not have a namespace in their specification. The namespace defined in the specification is not changed. The default value is `default`.
<3> For the `<cluster_name_or_id>`, specify the cluster name or ID that you want to use as the context for the evaluation to enable extended deployments with cluster-specific information.
<4> By enabling the `--verbose` flag, you receive additional information for each deployment during the policy check. The extended information includes the RBAC permission level and a comprehensive list of network policies that is applied.
+
[NOTE]
====
You can see the additional information for each deployment in your JSON output, regardless of whether you enable the `--verbose` flag or not.
====
--
+
The format is defined in the API reference.
To cause {rh-rhacs-first} to re-pull image metadata and image scan results from the associated registry and scanner, add the `--force` option.
+
[NOTE]
====
To check specific image scan results, you must have a token with both `read` and `write` permissions for the `Image` resource.
The default *Continuous Integration* system role already has the required permissions.
//TODO: Add link to the system role topic.
====
+
This command validates the following items:

** Configuration options in a YAML file, such as resource limits or privilege options
** Aspects of the images used in a YAML file, such as components or vulnerabilities