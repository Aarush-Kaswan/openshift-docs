// Module included in the following assemblies:
//
// * upgrading/upgrade-operator.adoc
:_mod-docs-content-type: PROCEDURE
[id="change-collection-method_{context}"]
= Changing the collection method to EBPF or CORE_BPF

[role="_abstract"]
If the cluster that you are upgrading contains the `SecuredCluster` CR, you must ensure that the per node collection setting is not set to `KernelModule`. If collection is set to `KernelModule`, then change it to `EBPF` or `CORE_BPF`. `CORE_BPF` is available in release 4.1 and later. `EBPF` is the preferred value for collection, unless there is a specific reason to use `CORE_BPF`.

.Procedure

. In the {ocp} web console, go to the {product-title-short} Operator page.
. In the top navigation menu, select *Secured Cluster*.
. Click the instance name, for example, *stackrox-secured-cluster-services*.
. Use one of the following methods:
* In the *Form view*, under *Per Node Settings* -> *Collector Settings* -> *Collection*, select *EBPF* or *CORE_BPF*.
* Click *YAML* to open the YAML editor and locate the `spec.perNode.collector.collection` attribute. If the value is `KernelModule`, then change it to `EBPF` or `CORE_BPF`.
. Click *Save.*