// Module included in the following assemblies:
//
// * storage/container_storage_interface/persistent-storage-csi-migration.adoc

:_mod-docs-content-type: CONCEPT
[id="persistent-storage-csi-migration-vsphere-to-4.13_{context}"]
= Updating from {product-title} 4.12 to 4.13 with vSphere in-tree PVs

If you are using vSphere in-tree persistent volumes (PVs) and want to update from {product-title} 4.12 to 4.13, update vSphere vCenter and ESXI host to 7.0 Update 3L or 8.0 Update 2, otherwise the {product-title} upgrade is blocked. After updating vSphere, your {product-title} update can occur and automatic Container Storage Interface (CSI) migration for vSphere occurs only if you opt in.

Alternatively, if you do not want to update vSphere, you can proceed with an {product-title} update by running the following command to perform an administrator acknowledgment:

[source, terminal]
----
oc -n openshift-config patch cm admin-acks --patch '{"data":{"ack-4.12-kube-126-vsphere-migration-in-4.14":"true"}}' --type=merge
----

It is generally safe to provide the requested administrator acknowledgment for updates from {product-title} 4.12 to 4.13 because CSI migration is not yet enabled for upgraded clusters from 4.12 to 4.13. However, Red Hat recommends that you start planning an update of your vSphere environment for a future update to 4.14, so that all the in-tree volumes can be managed by the CSI driver seamlessly.

[IMPORTANT]
====
If you do *not* update to {product-title} 4.13.10, or later, and do *not* update vSphere, and then opt in to migration (see _Manually enabling CSI automatic migration_ under _Additional resources_), known issues can occur. https://access.redhat.com/node/7011683[Before opting in to migration, carefully read this knowledge base article].
====
