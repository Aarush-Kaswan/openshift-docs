:_content-type: PROCEDURE
[id="serverless-subscribing-a-function-to-cloudevents_{context}"]
= Subscribing a function to CloudEvents

The `subscribe` command connects the function to a set of events, matching a series of filters for `CloudEvent` metadata and a Knative Broker as the source of events, from where they are consumed.

.Prerequisites

* You have installed Knative Eventing on the cluster.
* You have configured a Knative Broker.
* You have installed the Knative (`kn`) CLI.

.Procedure

. Subscribe the function to events for a given broker by running the following command:
+
.Example command
[source,terminal]
----
$ kn func subscribe --filter type=com.example.Hello --source my-broker
----
+
Use the `--source` flag to specify the broker and one or more `--filter` flags to specify your filters.
+
You can also omit the `--source` flag to use the default broker:
+
.Example command
[source,terminal]
----
$ kn func subscribe --filter type=com.example --filter extension=my-extension-value
----

. Deploy the function with Knative Triggers:
+
.Example command
[source,terminal]
----
$ kn func deploy
----
+
.Example output
[source,terminal]
----
ðŸ™Œ Function image built: <registry>/hello:latest
ðŸŽ¯ Creating Triggers on the cluster
âœ… Function deployed in namespace "default" and exposed at URL:
http://hello.default.my-cluster.example.com
----
