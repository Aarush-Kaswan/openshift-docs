// Module included in the following assemblies:
//
// * knative-serving/serving-transport-encryption.adoc
:_content-type: PROCEDURE
[id="serving-transport-encryption-configuring-selfsigned-clusterissuer_{context}"]
= Configuring a SelfSigned cluster issuer

The following procedure uses a `SelfSigned` issuer as the root certificate. For information about the implications and limitations of this method, see the link:https://cert-manager.io/docs/configuration/selfsigned/[SelfSigned cert-manager documentation].

If you manage your own company-specific Private Key Infrastructure (PKI), use the CA issuer. For more information, see link:https://cert-manager.io/docs/configuration/ca/[cert-manager documentation on CA issuers].

.Procedure

. Create a `SelfSigned` `ClusterIssuer` custom resource (CR):
+
.Example ClusterIssuer CR
[source,yaml]
----
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: knative-serving-selfsigned-issuer
spec:
  selfSigned: {}
----

. Apply the `ClusterIssuer` CR by running the following command:
+
[source,terminal]
----
$ oc apply -f <filename>
----

. Create a root certificate that refers to the `ClusterIssuer` CR:
+
.Example root certificate
[source,yaml]
----
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: knative-serving-selfsigned-ca
  namespace: cert-manager <1>
spec:
  secretName: knative-serving-ca <2>

  isCA: true
  commonName: selfsigned-ca
  privateKey:
    algorithm: ECDSA
    size: 256

  issuerRef:
    name: knative-serving-selfsigned-issuer
    kind: ClusterIssuer
    group: cert-manager.io
----
<1> The {cert-manager-operator} namespace, `cert-manager` by default.
<2> Secret name later used for the `ClusterIssuer` CR for Knative Serving.

. Apply the `Certificate` CR by running the following command:
+
[source,terminal]
----
$ oc apply -f <filename>
----

