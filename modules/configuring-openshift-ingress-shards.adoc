:_mod-docs-content-type: PROCEDURE
[id="configuring-openshift-ingress-shards_{context}"]
= Configuring OpenShift ingress shards

Before configuring Knative Serving, you must configure OpenShift ingress shards.

.Procedure

* Use a label selector in the `IngressController` CR to configure {ServerlessProductName} to match specific ingress shards with different domains:
+
.Example `IngressController` CR
[source,yaml]
----
apiVersion: operator.openshift.io/v1
kind: IngressController
metadata:
  name: ingress-dev # <1>
  namespace: openshift-ingress-operator
spec:
  routeSelector:
    matchLabels:
      router: dev # <2>
  domain: "dev.serverless.cluster.example.com" # <3>
  # ...
---
apiVersion: operator.openshift.io/v1
kind: IngressController
metadata:
  name: ingress-prod # <4>
  namespace: openshift-ingress-operator
spec:
  routeSelector:
    matchLabels:
      router: prod # <5>
  domain: "prod.serverless.cluster.example.com" # <6>
  # ...
----
<1> Name of the first ingress shard.
<2> A label selector to match the `ingress-dev` shard.
<3> A custom domain for the `ingress-dev` shard.
<4> Name of the second ingress shard.
<5> A label selector to match the `ingress-prod` shard.
<6> A custom domain for the `ingress-prod` shard.
