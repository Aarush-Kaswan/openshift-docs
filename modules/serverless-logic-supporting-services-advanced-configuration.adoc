// Module included in the following assemblies:
// * serverless-logic/serverless-logic-managing-supporting-services


:_mod-docs-content-type: REFERENCE
[id="serverless-logic-supporting-services-advanced-configuration_{context}"]
= Advanced supporting services configurations

In scenarios where you must apply advanced configurations for supporting services, use the `podTemplate` field in the `SonataFlowPlatform` custom resource (CR). This field allows you to customize the service pod deployment by specifying configurations like the number of replicas, environment variables, container images, and initialization options.

You can configure advanced settings for the service by using the following example:

.Advanced configurations example for the Data Index service
[source,yaml]
----
apiVersion: sonataflow.org/v1alpha08
kind: SonataFlowPlatform
metadata:
  name: sonataflow-platform-example
  namespace: example-namespace
spec:
  services:
    # This can be either 'dataIndex' or 'jobService'
    dataIndex:
      enabled: true
      podTemplate:
        replicas: 2 <1>
        container: <2>
          env: <3>
            - name: <any_advanced_config_property>
              value: <any_value>
          image: <4>
        initContainers: <5>
----

[NOTE]
====
You can set the 'services' field to either 'dataIndex' or 'jobService' depending on your requirement. The rest of the configuration remains the same.
====

<1> Defines the number of replicas. Default value is `1`. In the case of `jobService`, this value is always overridden to `1` because it operates as a singleton service.
<2> Holds specific configurations for the container running the service.
<3> Allows you to fine-tune service properties by specifying environment variables.
<4> Configures the container image for the service, useful if you need to update or customize the image.
<5> Configures init containers for the pod, useful for setting up prerequisites before the main container starts.

[NOTE]
====
The `podTemplate` field provides flexibility for tailoring the deployment of each supporting service. It follows the standard `PodSpec` API, meaning the same API validation rules apply to these fields.
====