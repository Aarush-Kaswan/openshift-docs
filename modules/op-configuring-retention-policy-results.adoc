// This module is included in the following assembly:
//
// * cicd/pipelines/using-tekton-results-for-openshift-pipelines-observability.adoc

:_mod-docs-content-type: PROCEDURE
[id="configuring-retention-policy-results_{context}"]
= Configuring the retention policy for {tekton-results}

By default, {tekton-results} stores pipeline runs, task runs, events, and logs indefinitely. This leads to an unnecesary use of storage resources and can affect your database performance.

You can configure the retention policy for {tekton-results} at the cluster level to remove older results and their associated records and logs. You can achieve this by editing the `TektonResult` custom resource (CR).

.Prerequisites

* You installed {tekton-results}.

.Procedure

* In the `TektonResult` CR, configure the retention policy for {tekton-results}, as shown in the following example:
+
.Example retention policy for {tekton-results}
[source,yaml]
----
apiVersion: operator.tekton.dev/v1alpha1
kind: TektonResult
metadata:
  name: result
spec:
  options:
    configMaps:
      config-results-retention-policy:
        data:
          runAt: "3 5 * * 0" #<1>
          maxRetention: "30" #<2>
----
<1> Specify, in cron format, when to run the pruning job in the database. This example runs the job at 5:03 AM every Sunday.
<2> Specify how many days to keep the data in the database. This example retains the data for 30 days.
