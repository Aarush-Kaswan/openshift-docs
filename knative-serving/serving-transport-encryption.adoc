:_mod-docs-content-type: ASSEMBLY
include::_attributes/common-attributes.adoc[]
[id="serving-transport-encryption"]
= Serving transport encryption
:context: serving-transport-encryption

toc::[]

You can enable {ServerlessProductName} Serving transport encryption to allow transporting data over secured and encrypted HTTPS connections using TLS.

:FeatureName: {ServerlessProductName} Serving transport encryption
include::snippets/technology-preview.adoc[leveloffset=+2]

[IMPORTANT]
====
Serving Transport Encryption is only available for Kourier as an ingress layer. For {SMProductName}, use the service mesh mTLS capabilities to ensure encrypted traffic.
====

include::modules/serving-transport-encryption-overview.adoc[leveloffset=+1]
include::modules/serving-transport-encryption-choice-of-a-certificate-issuer.adoc[leveloffset=+1]

[id="serving-transport-encryption-setting-up_{context}"]
== Setting up OpenShift Serverless transport encryption

.Prerequisites

* You have access to an {ocp-product-title} account with cluster administrator access.
* Install the {oc-first}.
* Install the {cert-manager-operator}.
* Install the {ServerlessOperatorName}.

[IMPORTANT]
====
If you install the {ServerlessOperatorName} before installing the {cert-manager-operator}, you must restart the controller and activator deployments in the `knative-serving` namespace. Failure to restart these deployments prevents Knative from creating the necessary `cert-manager` resources, which results in pending Knative Services and prevents enabling the Knative Serving `cert-manager` integration.
====

include::modules/serving-transport-encryption-configuring-selfsigned-clusterissuer.adoc[leveloffset=+2]
include::modules/serving-transport-encryption-creating-a-clusterissuer-to-be-used-by-serving.adoc[leveloffset=+2]
include::modules/serving-transport-encryption-configuring.adoc[leveloffset=+2]

include::modules/serving-transport-encryption-trust-configuration.adoc[leveloffset=+1]
include::modules/serving-transport-encryption-ensuring-seamless-ca-rotation.adoc[leveloffset=+1]
include::modules/serving-transport-encryption-verifying.adoc[leveloffset=+1]
